{"ast":null,"code":"var _jsxFileName = \"/Users/gytexas/Desktop/course-project/course-project/frontend/src/pages/Main/main.js\";\nimport React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Button } from 'reactstrap';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nexport const Main = () => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const logoutHandler = event => {\n    event.preventDefault();\n    const token = localStorage.getItem('x-auth');\n    fetch('http://localhost:4000/api/v1/user/logout', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-auth': token\n      }\n    }).then(header => {\n      if (!header.ok) {\n        throw Error(header);\n      }\n\n      return header.json();\n    }).then(response => {\n      localStorage.removeItem('x-auth');\n      alert('LOGOUT: successful');\n      dispatch({\n        type: actionTypes.TOGGLE_LOGGED_IN\n      });\n      history.push('/login');\n    }).catch(e => {\n      console.log(e);\n      alert('LOGOUT: failed!');\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    onClick: logoutHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, \"Log out\"));\n};","map":{"version":3,"sources":["/Users/gytexas/Desktop/course-project/course-project/frontend/src/pages/Main/main.js"],"names":["React","Button","useHistory","useDispatch","Main","history","dispatch","logoutHandler","event","preventDefault","token","localStorage","getItem","fetch","method","headers","then","header","ok","Error","json","response","removeItem","alert","type","actionTypes","TOGGLE_LOGGED_IN","push","catch","e","console","log"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,sCAAP;AACA,SAASC,MAAT,QAAuB,YAAvB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,WAAT,QAA4B,aAA5B;AAEA,OAAO,MAAMC,IAAI,GAAG,MAAM;AACxB,QAAMC,OAAO,GAAGH,UAAU,EAA1B;AACA,QAAMI,QAAQ,GAAGH,WAAW,EAA5B;;AAEA,QAAMI,aAAa,GAAGC,KAAK,IAAI;AAC7BA,IAAAA,KAAK,CAACC,cAAN;AACA,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAd;AAEAC,IAAAA,KAAK,CAAC,0CAAD,EAA6C;AAChDC,MAAAA,MAAM,EAAE,KADwC;AAEhDC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEP,kBAAUL;AAFH;AAFuC,KAA7C,CAAL,CAOGM,IAPH,CAOQC,MAAM,IAAI;AACd,UAAI,CAACA,MAAM,CAACC,EAAZ,EAAgB;AACd,cAAMC,KAAK,CAACF,MAAD,CAAX;AACD;;AACD,aAAOA,MAAM,CAACG,IAAP,EAAP;AACD,KAZH,EAaGJ,IAbH,CAaQK,QAAQ,IAAI;AAChBV,MAAAA,YAAY,CAACW,UAAb,CAAwB,QAAxB;AACAC,MAAAA,KAAK,CAAC,oBAAD,CAAL;AACAjB,MAAAA,QAAQ,CAAC;AAAEkB,QAAAA,IAAI,EAAEC,WAAW,CAACC;AAApB,OAAD,CAAR;AACArB,MAAAA,OAAO,CAACsB,IAAR,CAAa,QAAb;AACD,KAlBH,EAmBGC,KAnBH,CAmBSC,CAAC,IAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACAN,MAAAA,KAAK,CAAC,iBAAD,CAAL;AACD,KAtBH;AAuBD,GA3BD;;AA6BA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,SAAd;AAAwB,IAAA,OAAO,EAAEhB,aAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CADF;AAOD,CAxCM","sourcesContent":["import React from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport { Button } from 'reactstrap'\nimport { useHistory } from 'react-router-dom'\nimport { useDispatch } from 'react-redux'\n\nexport const Main = () => {\n  const history = useHistory()\n  const dispatch = useDispatch()\n\n  const logoutHandler = event => {\n    event.preventDefault()\n    const token = localStorage.getItem('x-auth')\n\n    fetch('http://localhost:4000/api/v1/user/logout', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-auth': token\n      }\n    })\n      .then(header => {\n        if (!header.ok) {\n          throw Error(header)\n        }\n        return header.json()\n      })\n      .then(response => {\n        localStorage.removeItem('x-auth')\n        alert('LOGOUT: successful')\n        dispatch({ type: actionTypes.TOGGLE_LOGGED_IN })\n        history.push('/login')\n      })\n      .catch(e => {\n        console.log(e)\n        alert('LOGOUT: failed!')\n      })\n  }\n\n  return (\n    <div>\n      <Button color='primary' onClick={logoutHandler}>\n        Log out\n      </Button>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}